<!DOCTYPE html>
<html>
	<head>
		<title>Gauntlet</title>
		<link rel="stylesheet" href="src/css/style.css" />
		<link rel="stylesheet" href="src/css/character-selection.css" />
	</head>
	<body>
		<div id="auth-container">
			<div id="login-form">
				<h2>Login</h2>
				<input type="email" id="login-email" placeholder="Email" />
				<input type="password" id="login-password" placeholder="Password" />
				<button id="login-button">Login</button>
				<p><a href="#" id="show-forgot-password">Forgot password?</a></p>
				<p
					>Don't have an account?
					<a href="#" id="show-register">Register</a></p
				>
			</div>
			<div id="register-form" style="display: none">
				<h2>Register</h2>
				<input type="text" id="register-name" placeholder="Name" />
				<input type="email" id="register-email" placeholder="Email" />
				<input
					type="password"
					id="register-password"
					placeholder="Password" />
				<button id="register-button">Register</button>
				<p
					>Already have an account?
					<a href="#" id="show-login-from-register">Login</a></p
				>
			</div>
			<div id="forgot-password-form" style="display: none">
				<h2>Forgot Password</h2>
				<input type="email" id="forgot-email" placeholder="Email" />
				<button id="forgot-button">Send Reset Token</button>
				<p><a href="#" id="show-login-from-forgot">Back to Login</a></p>
			</div>
			<div id="reset-password-form" style="display: none">
				<h2>Reset Password</h2>
				<input type="text" id="reset-token" placeholder="Reset Token" />
				<input
					type="password"
					id="reset-password"
					placeholder="New Password" />
				<button id="reset-button">Reset Password</button>
			</div>
		</div>

		<div id="character-selection-container" style="display: none">
			<h2>Select Your Character</h2>
			<div id="character-list">
				<!-- Character cards will be injected here -->
			</div>
			<div id="character-creation-form" style="display: none;">
				<h3>Create New Character</h3>
				<input type="text" id="new-character-name" placeholder="Character Name" required>
				<input type="text" id="new-character-class" placeholder="Class (e.g., Warrior)" required>

				<div>
					<label>Gender:</label>
					<input type="radio" id="gender-male" name="gender" value="Male" checked>
					<label for="gender-male">Male</label>
					<input type="radio" id="gender-female" name="gender" value="Female">
					<label for="gender-female">Female</label>
				</div>

				<div>
					<label for="model-select">Model:</label>
					<select id="model-select" name="model" required>
						<!-- Options will be populated by JS -->
					</select>
				</div>

				<div>
					<label for="color-picker">Color:</label>
					<input type="color" id="color-picker" name="color" value="#ff0000">
				</div>

				<button id="create-character-button">Create</button>
				<button id="cancel-creation-button">Cancel</button>
			</div>
			<button id="show-character-creation-button">Creer un nouveau personnage</button>
			<button id="play-button" disabled>Play</button>
			<button id="quit-button">Quiter</button>
		</div>

		<div id="game-container" style="display: none">
			<canvas id="game-canvas"></canvas>

			<!-- Inventory -->
			<div id="inventory-container" class="inventory-container" style="display: none;">
				<div class="inventory-header">
					<h3>Inventory</h3>
					<button id="inventory-close-btn" class="close-btn">&times;</button>
				</div>
				<div id="inventory-slots" class="inventory-slots">
					<!-- Slots will be generated by JS -->
				</div>
			</div>

			<!-- Menu Icon -->
			<div id="menu-icon">
				<div class="bar1"></div>
				<div class="bar2"></div>
				<div class="bar3"></div>
			</div>

			<!-- Dropdown Menu -->
			<div id="menu-dropdown" style="display: none">
				<a href="#" id="profile-link">Profil</a>
				<a href="#" id="info-link">Info</a>
				<a href="#" id="logout-link">Revenir à la page personnages</a>
			</div>
		</div>

		<!-- Profile Modal -->
		<div id="profile-modal" class="modal" style="display: none">
			<div class="modal-content">
				<span class="close-btn">&times;</span>
				<h2>Profil</h2>
				<form id="profile-form">
					<label for="profile-username">Pseudo:</label>
					<input type="text" id="profile-username" name="username" />
					<label for="profile-color">Couleur du personnage:</label>
					<input
						type="color"
						id="profile-color"
						name="color"
						value="#ff0000" />

					<label>Modèle du personnage:</label>
					<div id="profile-model-selection">
						<input
							type="radio"
							id="model-male"
							name="model"
							value="male"
							checked />
						<label for="model-male">Homme</label>
						<input
							type="radio"
							id="model-female"
							name="model"
							value="female" />
						<label for="model-female">Femme</label>
					</div>

					<button type="submit">Sauvegarder</button>
				</form>
			</div>
		</div>

		<!-- Info Modal -->
		<div id="info-modal" class="modal" style="display: none">
			<div class="modal-content">
				<span class="close-btn">&times;</span>
				<h2>Info</h2>
				<p>Cette page d'information est en cours de construction.</p>
			</div>
		</div>

		<script type="importmap">
			{
				"imports": {
					"three": "/node_modules_min/three/build/three.module.js",
					"three/addons/": "/node_modules_min/three/examples/jsm/"
				}
			}
		</script>

		<script src="/socket.io/socket.io.js"></script>
		<script type="module" src="src/js/main.js"></script>
	</body>
</html>
